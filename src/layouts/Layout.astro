---
const {
	title = 'Gene Programming Language',
	description = 'Gene is a modern, extensible Lisp with a bytecode VM and rich tooling.',
} = Astro.props;
const year = new Date().getFullYear();
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<meta name="description" content={description} />
		<script src="/gene-runner.js" defer></script>
	</head>
	<body>
		<a class="skip-link" href="#main-content">Skip to content</a>
		<header class="site-header">
			<div class="container header-inner">
				<a class="logo" href="/">Gene</a>
				<nav class="site-nav" aria-label="Primary">
					<a href="/" class:list={{ active: Astro.url.pathname === '/' }}>Home</a>
					<a href="/getting-started" class:list={{ active: Astro.url.pathname.startsWith('/getting-started') }}>
						Getting Started
					</a>
					<a href="/docs" class:list={{ active: Astro.url.pathname.startsWith('/docs') }}>Docs</a>
					<a href="/tutorials" class:list={{ active: Astro.url.pathname.startsWith('/tutorials') }}>Tutorials</a>
					<a href="/examples" class:list={{ active: Astro.url.pathname.startsWith('/examples') }}>Examples</a>
					<a href="/playground" class:list={{ active: Astro.url.pathname.startsWith('/playground') }}>Playground</a>
					<a href="/community" class:list={{ active: Astro.url.pathname.startsWith('/community') }}>Community</a>
                                        <a href="https://github.com/gene-lang/gene" rel="noopener">GitHub</a>
				</nav>
			</div>
		</header>
		<main id="main-content" class="site-main container">
			<slot />
		</main>
		<footer class="site-footer">
			<div class="container footer-inner">
				<div>
					<strong>Gene Programming Language</strong>
					<p>AI-native language with a NaN-boxed bytecode VM and homoiconic design.</p>
				</div>
				<div class="footer-links">
                                        <a href="https://github.com/gene-lang/gene" rel="noopener">Source</a>
					<a href="/getting-started">Install</a>
					<a href="/docs">Documentation</a>
					<a href="/community">Community</a>
				</div>
				<p class="footer-note">&copy; {year} Gene Language Project.</p>
			</div>
		</footer>
	</body>
</html>

<style is:global>
	:root {
		color-scheme: light;
		--color-bg: #0f172a;
		--color-surface: #111c33;
		--color-text: #e2e8f0;
		--color-muted: #94a3b8;
		--color-border: rgba(148, 163, 184, 0.25);
		--color-accent: #38bdf8;
		--color-accent-strong: #0ea5e9;
	}

	@media (prefers-color-scheme: light) {
		:root {
			color-scheme: light;
			--color-bg: #f9fbff;
			--color-surface: #ffffff;
			--color-text: #0f172a;
			--color-muted: #475569;
			--color-border: rgba(15, 23, 42, 0.1);
			--color-accent: #2563eb;
			--color-accent-strong: #1d4ed8;
		}
	}

	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}

	body {
		margin: 0;
		font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
		background: var(--color-bg);
		color: var(--color-text);
		line-height: 1.6;
	}

	a {
		color: var(--color-accent);
		text-decoration: none;
	}

	a:hover,
	a:focus-visible {
		color: var(--color-accent-strong);
	}

	code {
		font-family: 'DM Mono', 'Fira Code', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
			monospace;
	}

	pre {
		background: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: 0.75rem;
		padding: 1.25rem;
		overflow-x: auto;
		margin: 2rem 0;
		box-shadow: 0 18px 30px rgba(15, 23, 42, 0.15);
	}

	pre code {
		display: block;
		font-size: 0.95rem;
		white-space: pre;
		color: inherit;
	}

	img {
		max-width: 100%;
		display: block;
	}

	.skip-link {
		position: absolute;
		left: -999px;
		top: 1rem;
		background: var(--color-accent);
		color: white;
		padding: 0.5rem 1rem;
		border-radius: 0.5rem;
		z-index: 999;
	}

	.skip-link:focus {
		left: 1rem;
	}

	.container {
		width: min(1100px, 92vw);
		margin: 0 auto;
	}
</style>

<style>
	.site-header {
		background: var(--color-surface);
		border-bottom: 1px solid var(--color-border);
		position: sticky;
		top: 0;
		z-index: 10;
		backdrop-filter: blur(10px);
	}

	.header-inner {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 1rem 0;
		gap: 1.5rem;
	}

	.logo {
		font-weight: 700;
		font-size: 1.25rem;
		color: var(--color-text);
		letter-spacing: 0.04em;
	}

	.site-nav {
		display: flex;
		gap: 1rem;
		flex-wrap: wrap;
	}

	.site-nav a {
		font-weight: 500;
		color: var(--color-muted);
	}

	.site-nav a.active,
	.site-nav a:hover {
		color: var(--color-accent-strong);
	}

	.site-main {
		padding: 4rem 0;
	}

	.site-footer {
		background: var(--color-surface);
		border-top: 1px solid var(--color-border);
		margin-top: 4rem;
	}

	.footer-inner {
		display: grid;
		gap: 1.5rem;
		padding: 2.5rem 0;
	}

	.footer-links {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
	}

	.footer-note {
		margin: 0;
		color: var(--color-muted);
		font-size: 0.875rem;
	}

	@media (max-width: 720px) {
		.header-inner {
			flex-direction: column;
			align-items: flex-start;
		}

		.site-main {
			padding: 3rem 0;
		}

		.site-nav {
			width: 100%;
		}
	}
</style>
