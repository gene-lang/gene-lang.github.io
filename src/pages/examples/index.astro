---
import Layout from '../../layouts/Layout.astro';

const examples = [
	{
		title: 'Hello World',
		description: 'The simplest Gene program â€” print a greeting to the console.',
		code: `# Hello World
(print "Hello, World!")`,
	},
	{
		title: 'Fibonacci',
		description: 'Classic recursive function to compute Fibonacci numbers.',
		code: `(fn fib [n]
  (if (n < 2)
    n
  else
    ((fib (n - 1)) + (fib (n - 2)))))

(print "fib(10) =" (fib 10))`,
	},
	{
		title: 'Class with Constructor',
		description: 'Define a class with properties, constructor, and methods using Gene OOP syntax.',
		code: `(class Person < Object
  (.ctor [name age]
    (/name = name)
    (/age = age))

  (.fn greet []
    (print "Hello, I'm" /name)))

(var alice (new Person "Alice" 30))
(alice .greet)`,
	},
];
---

<Layout
	title="Gene Code Examples"
	description="Curated Gene code snippets that demonstrate looping, lightweight objects, and async workflows."
>
	<header class="page-header">
		<h1>Examples</h1>
		<p>
			Browse a curated gallery of Gene programs. Each snippet highlights a language feature, pairing the code with a
			short explanation. Run them locally with the Gene CLI to experiment on your own machine.
		</p>
	</header>

	<section class="example-grid">
		{examples.map((example) => (
			<article class="example-card">
				<h2>{example.title}</h2>
				<p>{example.description}</p>
				<pre aria-label={`Example: ${example.title}`}>
<code class="language-gene">{example.code}</code>
				</pre>
			</article>
		))}
	</section>

	<section class="note">
		<strong>No in-browser execution.</strong>
		<span>
			For safety, Gene snippets are rendered statically. Copy a snippet into a <code>.gene</code> file and run it
			with <code>./bin/gene run</code> to explore the output.
		</span>
	</section>
</Layout>

<style>
	.page-header {
		display: grid;
		gap: 0.75rem;
		margin-bottom: 3rem;
	}

	.page-header h1 {
		margin: 0;
		font-size: clamp(2.1rem, 3vw, 2.7rem);
	}

	.page-header p {
		color: var(--color-muted);
		max-width: 46rem;
		margin: 0;
	}

	.example-grid {
		display: grid;
		gap: 2rem;
	}

	.example-card {
		background: var(--color-surface);
		border-radius: 1.1rem;
		border: 1px solid var(--color-border);
		padding: 1.75rem;
		box-shadow: 0 18px 32px rgba(15, 23, 42, 0.12);
		display: grid;
		gap: 0.75rem;
	}

	.example-card h2 {
		margin: 0;
		font-size: 1.45rem;
	}

	.example-card p {
		margin: 0;
		color: var(--color-muted);
	}

	.note {
		margin-top: 3rem;
		display: grid;
		gap: 0.4rem;
		background: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: 1rem;
		padding: 1.2rem 1.5rem;
		color: var(--color-muted);
	}
</style>
